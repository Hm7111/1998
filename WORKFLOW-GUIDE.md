# دليل سير العمل في النظام

## 1. دورة حياة الخطاب

### 1.1 إنشاء خطاب جديد
```
مستخدم -> اختيار قالب -> تعبئة محتوى -> حفظ كمسودة
```

### 1.2 تقديم للموافقة
```
مستخدم -> تقديم للموافقة -> تحديد المراجعين -> إرسال إشعارات
```

### 1.3 عملية الموافقة
```
مراجع -> استلام إشعار -> مراجعة الخطاب -> موافقة/رفض/طلب تعديل
```

### 1.4 إصدار الخطاب
```
مستخدم -> استلام الموافقات -> إصدار نهائي -> تصدير PDF
```

## 2. أدوار المستخدمين

### 2.1 مسؤول النظام (Admin)
- إدارة المستخدمين والفروع
- إدارة القوالب
- مراجعة سجلات النشاط
- إعدادات النظام

### 2.2 مدير (Manager)
- موافقة على الخطابات
- إدارة مستخدمي الفرع
- تعيين مهام
- عرض تقارير

### 2.3 مستخدم (User)
- إنشاء وتحرير الخطابات
- طلب موافقات
- تنفيذ المهام
- تصدير الخطابات

### 2.4 مشاهد (Viewer)
- عرض الخطابات فقط
- تتبع حالة الطلبات

## 3. إدارة المهام

### 3.1 إنشاء مهمة
```
مستخدم -> إنشاء مهمة -> تعيين المكلف -> تحديد موعد نهائي
```

### 3.2 ربط مهمة بخطاب
```
مستخدم -> اختيار خطاب -> إنشاء مهمة مرتبطة -> تعيين المكلف
```

### 3.3 متابعة المهام
```
مستخدم -> عرض المهام -> تحديث الحالة -> إغلاق المهمة
```

## 4. مخطط تدفق البيانات

### 4.1 إنشاء خطاب
```
مستخدم -> واجهة المستخدم -> خدمة الخطابات -> قاعدة البيانات
```

### 4.2 تصدير PDF
```
خطاب -> خدمة التصدير -> تحويل HTML -> إنشاء QR -> ملف PDF
```

### 4.3 طلب موافقة
```
مستخدم -> خدمة الموافقات -> إشعارات -> مراجعين -> تحديث حالة الخطاب
```
